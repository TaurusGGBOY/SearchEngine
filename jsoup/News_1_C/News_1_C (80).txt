在数据库中存的就是一张张有着千丝万缕关系的表 所以表设计的好坏 将直接影响着整个数据库 而在设计表的时候 我们都会关注一个问题 使用什么存储引擎 等一下 存储引擎 什么是存储引擎 什么是存储引擎 中的数据用各种不同的技术存储在文件 或者内存 中 这些技术中的每一种技术都使用不同的存储机制 索引技巧 锁定水平并且最终提供广泛的不同的功能和能力 通过选择不同的技术 你能够获得额外的速度或者功能 从而改善你的应用的整体功能 例如 如果你在研究大量的临时数据 你也许需要使用内存 存储引擎 内存存储引擎能够在内存中存储所有的表格数据 又或者 你也许需要一个支持事务处理的数据库 以确保事务处理不成功时数据的回退能力 这些不同的技术以及配套的相关功能在 中被称作存储引擎 也称作表类型 默认配置了许多不同的存储引擎 可以预先设置或者在 服务器中启用 你可以选择适用于服务器 数据库和表格的存储引擎 以便在选择如何存储你的信息 如何检索这些信息以及你需要你的数据结合什么性能和功能的时候为你提供最大的灵活性 关系数据库表是用于存储和组织信息的数据结构 可以将表理解为由行和列组成的表格 类似于 的电子表格的形式 有的表简单 有的表复杂 有的表根本不用来存储任何长期的数据 有的表读取时非常快 但是插入数据时去很差 而我们在实际开发过程中 就可能需要各种各样的表 不同的表 就意味着存储不同类型的数据 数据的处理上也会存在着差异 那么 对于 来说 它提供了很多种类型的存储引擎 或者说不通的表类型 我们可以根据对数据处理的需求 选择不同的存储引擎 从而最大限度的利用 强大的功能 在 客户端中 使用以下命令可以查看 支持的引擎 它不支持事务 也不支持外键 尤其是访问速度快 对事务完整性没有要求或者以 为主的应用基本都可以使用这个引擎来创建表 每个 在磁盘上存储成 个文件 其中文件名和表名都相同 但是扩展名分别为 数据文件和索引文件可以放置在不同的目录 平均分配 获取更快的速度 要指定数据文件和索引文件的路径 需要在创建表的时候通过 和 语句指定 文件路径需要使用绝对路径 每个 表都有一个标志 服务器或 程序在检查 数据表时会对这个标志进行设置 表还有一个标志用来表明该数据表在上次使用后是不是被正常的关闭了 如果服务器以为当机或崩溃 这个标志可以用来判断数据表是否需要检查和修复 如果想让这种检查自动进行 可以在启动服务器时使用 现象 这会让服务器在每次打开一个 数据表是自动检查数据表的标志并进行必要的修复处理 类型的表可能会损坏 可以使用 语句来检查 表的健康 并用 语句修复一个损坏到 表 的表还支持 种不同的存储格式 是一个健壮的事务型存储引擎 这种存储引擎已经被很多互联网公司使用 为用户操作非常大的数据存储提供了一个强大的解决方案 我的电脑上安装的 版 就是作为默认的存储引擎 还引入了行级锁定和外键约束 在以下场合下 使用 是最理想的选择 更新密集的表 存储引擎特别适合处理多重并发的更新请求 事务 存储引擎是支持事务的标准 存储引擎 自动灾难恢复 与其它存储引擎不同 表能够自动从灾难中恢复 外键约束 支持外键的存储引擎只有 支持自动增加列 属性 一般来说 如果需要事务支持 并且有较高的并发读取频率 是不错的选择 使用 存储引擎的出发点是速度 为得到最快的响应时间 采用的逻辑存储介质是系统内存 虽然在内存中存储表数据确实会提供很高的性能 但当 守护进程崩溃时 所有的 数据都会丢失 获得速度的同时也带来了一些缺陷 它要求存储在 数据表里的数据使用的是长度不变的格式 这意味着不能使用 和 这样的长度可变的数据类型 是一种长度可变的类型 但因为它在 内部当做长度固定不变的 类型 所以可以使用 一般在以下几种情况下使用 存储引擎 目标数据较小 而且被非常频繁地访问 在内存中存放数据 所以会造成内存的使用 可以通过参数 控制 表的大小 设置此参数 就可以限制 表的最大大小 如果数据是临时的 而且要求必须立即可用 那么就可以存放在内存表中 存储在 表中的数据如果突然丢失 不会对应用服务产生实质的负面影响 同时支持散列索引和 树索引 树索引的优于散列索引的是 可以使用部分查询和通配查询 也可以使用 和 等操作符方便数据挖掘 散列索引进行 相等比较 非常快 但是对 范围比较 的速度就慢多了 因此散列索引值适合使用在 和 的操作符中 不适合在 或 操作符中 也同样不适合用在 子句中 可以在表创建时利用 子句指定要使用的版本 例如 复制代码代码如下 上述代码创建了一个表 在 字段上使用了 散列索引 下面的代码就创建一个表 使用 索引 复制代码代码如下 存储引擎是一组 表的组合 这些 表结构必须完全相同 尽管其使用不如其它引擎突出 但是在某些情况下非常有用 说白了 表就是几个相同 表的聚合器 表中并没有数据 对 类型的表可以进行查询 更新 删除操作 这些操作实际上是对内部的 表进行操作 存储引擎的使用场景 对于服务器日志这种信息 一般常用的存储策略是将数据分成很多表 每个名称与特定的时间端相关 例如 可以用 个相同的表来存储服务器日志数据 每个表用对应各个月份的名字来命名 当有必要基于所有 个日志表的数据来生成报表 这意味着需要编写并更新多表查询 以反映这些表中的信息 与其编写这些可能出现错误的查询 不如将这些表合并起来使用一条查询 之后再删除 表 而不影响原来的数据 删除 表只是删除 表的定义 对内部的表没有任何影响 是归档的意思 在归档之后很多的高级功能就不再支持了 仅仅支持最基本的插入和查询两种功能 在 版以前 是不支持索引 但是在 以后的版本中就开始支持索引了 拥有很好的压缩机制 它使用 压缩库 在记录被请求时会实时压缩 所以它经常被用来当做仓库使用 存储引擎的一些问题 如何查看服务器有哪些存储引擎可以使用 为确定你的 服务器可以用哪些存储引擎 执行如下命令 如何选择合适的存储引擎 选择标准可以分为 是否需要支持事务 是否需要使用热备 崩溃恢复 能否接受崩溃 是否需要外键支持 然后按照标准 选择对应的存储引擎即可