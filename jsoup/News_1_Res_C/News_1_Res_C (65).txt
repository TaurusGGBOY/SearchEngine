操作 系统 原理 术语 线程 进程 一条 执行 路径 线程 系统 称为 轻量级 进程 线程 进程 但却 看作 进程 表亲 线程 都是 进程 空间 运行 这也 意味着 多条 线程 共享 进程 系统资源 虚拟地址 空间 文件 描述符 信号 进程 多个 线程 调用 栈 寄存器 环境 线程 本地 存储 进程 很多 线程 每条 线程 并行执行 线程 提高 程序 多核 环境 诸如 文件 堵塞 表现 性能 系统 进程 包含 很多 东西 包括 可执行程序 一大堆 诸如 文件 描述符 地址 空间 资源 很多 相关 代码 间 交换 数据 采用 进程 方式 进程 创建 所花 片 要比 线程 大些 进程 间 通信 麻烦 用户 空间 内核 空间 频繁 切换 开销 很大 多线程 方式 共享 全局变量 线程 间 通信 数据交换 变得 高效 多线程 主线程 爸妈 房间 子 线程 房间 吃饼干 客厅 多进程 爸妈 房间 一层楼 房间 一层楼 两个 房间 通信用 协议 协议 多线程 多进程 房子 进程 创建 生成 缺省 线程 线程 主线程 或称 控制 线程 程序 主线程 函数 线程 主线程 调用 创建 线程 为子 线程 子 线程 入口 函数 函数 用户 创建 指定 线程 都有 线程 函数 获取 常见 线程 模型 主线程 较为 之外 线程 创建 相互之间 对等关系 隐含 层次 进 程可 创建 线程数 主线程 和子 线程 默认 子 线程 执行 完毕 主线程 执行 完毕 退出 有子 线程 执行 都会 终止 进程 结束 僵死 线程 一种 终止 执行 还未 销毁 状态 进程 线程 销毁 销毁 进程 处于 僵死 状态 线程 函数 执行 完毕 退出 或以 方式 终止 线程 终止 态 线程 分配 系统 资源 释放 系统 重启 释放 终止 态 线程 仍旧 线程 实体 存在于 操作 系统 销毁 取决于 线程 属性 主线程 和子 线程 定义 线程 分离 状态 线程 方式 终止 默认 线程 是非 分离 状态 原有 线程 等待 创建 线程 结束 函数 返回 创建 线程 才算 终止 释放自己 占用 系统资源 分离 线程 线程 等待 运行 结束 线程 也就 终止 马上 释放 系统资源 行 行 调用 函数 用来 创建 两个 子 线程 函数 原型 用来 创建 线程 执行 第三 参数 指向 函数 设定 线程 分离 状态 修改 线程 栈 大小 线程 创建 默认 状态 状态 主线程 调用 等待 退出 子 线程 结束 内存 资源 释放 内存泄漏 创建 线程 会将 线程 设置 分离 状态 两种 方法 代码 行 定义 创建 线程 属性 变量 在对 属性 设置 先 调用 函数 初 始 化 行 行 设置 线程 栈 大小 行 设置 线程 属性 分离 状态 行 创建 线程 属性 创建 线程 创建 子 进程 分离 状态 线程 属性 完 调用 行 摧毁 释放 代码 行 创建 子 线程 时并 线程 调用 设置 线程 分离 状 态 主线程 行 处 调用 等待 第二个 子 线程 退出 主线程 也就 阻塞 往下 继续执行 创建 两个 线程 第四个 参数 主线程 栈 中的 变量 地址 传 给了 子 线程 线程 都是 进 程 空间 运行 子 线程 独立 栈 空间 有子 线程 都可以 访问 主线程 空间 变量 编译 运行 程序 效果 多线程 编程 编译 加上 选项 告诉 链 接器 链接 接 库 主线程 创建 子 线程 究竟 子 线程 主线程 先 执行 究竟 个子 线程 先 运行 系统 依赖 操作系统 进程 调度 策略 代码 行 处 主线程 调 用了 导致 主 线程阻塞 主线程 往下 继续执行 循环 分析 线程 代码 创建 子 线程 子 线程 执行 函数 都会 死循环 让子 线程 运行 子 线程 代码 顺序 执行 执行 完毕 线程 退出 主线程 循环 运行 主线程 退出 导致 进程 退出 进程 退出 导致 有子 线程 退出 接下来 分析 一下子 线程 所做 事 两个 子 线程 打印 变量 值 加 睡眠 后再 打印 两个 值 代码 运行 红色 标注 创建 运行 加 值 初始值 值 加 休眠 秒 后再 打印 值 变量 会被 个子 线程 访问 修改 导致 资源 线程 访问 修改 资源 临界资源 资源 访问 修改 相关 代码 临界区 解决 多个 线程 之间 共享 共享 资源 多线程 编程 试想 寝室 实验室 洗手间 那多 解决 马桶 共享 锁 机制 马桶 临界资源 洗手间 临界区 上锁 用完 离开 洗手间 临界区 锁 释放 供 别人 有人 洗手间 门 锁上 也有 两种 策略 洗手间 阻塞 暂时 先 离开 等会 过来看 非 阻塞 互斥锁 锁 临界区 临界区 开头 加锁 临界区 结尾 关锁 多个 线程 调用 多个 对象 则在 上锁 死锁 举个 例子 两个 线程 两个 共享 变量 变量 都有 锁 线程 拿到 锁 访问 接下来 锁 来访问 变量 线程 拿着 锁 等待着 锁 造成了 线程 死锁 死锁 必要条件 四 条件 均 死锁 死锁 进程 持有 资源 释放 导致 吞吐 量 下降 死锁 浪费 系统资源 影响 计算机 性能 解决 死锁 死锁 四 条件 这四个 条件 至少 条件 得不到 死锁 互斥 条件 是非 共享 资源 改变 还应 保证 破坏 死锁 条件 方法 进程 运行 一次性 申请 在整个 运行 过程 资源 优点 简单 易 实施 缺点 某项 资源 进程 启动 而其 资源 利用 降低 资源 利用率 资源 浪费 使 进程 饥饿 现象 方法 方法 第一 方法 改进 进程 只 运行 初期 资源 便 运行 运行 过程 释放 掉 分配 完毕 资源 然后再 去请 求新 资源 这样的话 资源 利用率 提高 也会 减少 进程 饥饿 持有 资源 进程 提出 新的 资源 请求 释放 资源 申请 意味着 进程 占有 资源 短暂 释放 说是 抢占 种方法 代价 释放 资源 有可能 导致 进程 实效 反复 申请 释放 资源 导致 进程 执行 无限 推迟 延长 进程 周转 周期 影响 系统 吞吐量 定义 资源 类型 线性 顺序 预防 可将 资源 编号 进程 占有 编号 资源 下一次 申请 资源 只 申请 编号 大于 资源 多线程 编程 模型 多进程 编程 模型 方式 多进程 编程 多进程 编程 模型 改写 服务器 多线程 流程图 程序 代码 多进程 基础 写 多线程 
